(this.webpackJsonpkitscon_20_2=this.webpackJsonpkitscon_20_2||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/giphy.68673820.gif"},function(e,t,n){e.exports=n.p+"static/media/song.2250bca0.mp3"},function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(3),i=n.n(c),r=(n(13),n(1)),l=(n(14),n(4));n(15);function u(e){return o.a.createElement("a",{className:"Link",href:e.href},e.text)}n(16);function s(e){return o.a.createElement("div",{className:"Separator"})}var m=n(6),d=n.n(m);n(17);function f(e){var t=Object(l.a)();return o.a.createElement("div",null,o.a.createElement("h1",null,"Here's a nice lil headline!"),o.a.createElement("p",null,'Welcome home! This page should probably work as an expaliner for what this site is trying to do. I could probably bake the "Exclusive Content"-demo into this page as well.'),o.a.createElement("p",null,"Look at this text that is ended with a nice looking link:"," ",o.a.createElement(u,{href:"/",text:"Click me!"})),o.a.createElement(s,null),o.a.createElement("p",null,(!t.state||"stopped"===t.state)&&"Start Web Monetization to unlock exclusive content!","pending"===t.state&&"Loading...","started"===t.state&&"Very nice! Please enjoy your exlusive content."),"started"===t.state?o.a.createElement("div",null,o.a.createElement("img",{src:d.a,alt:"BananaGif"}),o.a.createElement("p",{className:"Home-text-small"},"Gif taken from"," ",o.a.createElement(u,{href:"http://gph.is/2o30x8S",text:"here"}))):null)}function p(e){return o.a.createElement("div",null,o.a.createElement("h1",null,"Removable ads"),o.a.createElement("p",null,"Allow the user to choose! Either they can pay you directly using Web Monetization, or you can serve them some ads if they do not use it."),o.a.createElement("p",null,"Toogle Web monetization on and off to see the difference."))}var h=n(7),E=n.n(h);function v(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){var e=document.head.querySelector('meta[name="monetization"]');return document.head.removeChild(e),t.current.addEventListener("play",(function(){document.head.appendChild(e)})),t.current.addEventListener("pause",(function(){document.head.removeChild(e)})),function(){document.head.appendChild(e)}}),[]),o.a.createElement("div",null,o.a.createElement("h1",null,"Monetized Content"),o.a.createElement("p",null,"Monetize playback of your content! This page has no monetization tag by defualt, it is instead added when you start playing the song below. Whne you pause, or hte song ends, the monetization tag is removed. This menas that you will only pay for the amount of time spent listening!"),o.a.createElement("audio",{controls:!0,ref:t},o.a.createElement("source",{src:E.a,type:"audio/mpeg"})))}n(18),n(19);function g(e){var t="Button ".concat(e.active?"Button-active":""," ").concat(e.leftAlign?"Button-leftalign":"");return o.a.createElement("div",{className:t,onClick:e.onClick},e.text)}function b(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),c=n[0],i=n[1],l=Object(a.useState)(""),u=Object(r.a)(l,2),s=u[0],m=u[1],d=Object(a.useRef)(),f=Object(a.useRef)(),p=Object(a.useRef)(),h=Object(a.useRef)(),E=function(){var e=new CustomEvent("monetizationprogress",{detail:{requestId:h.current,paymentPointer:d.current,amount:1,assetCode:"SEK",assetScale:3}});document.monetization.dispatchEvent(e)},v=function(e){var t=new CustomEvent(e,{detail:{requestId:h.current,paymentPointer:d.current,finalized:"monetizationstop"===e||void 0}});document.monetization.dispatchEvent(t)},b=function(e){m(e),document.monetization.state=e},y=function(){console.log("Starting WM with id ".concat(h.current)),b("started"),v("monetizationstart"),E(),p.current=setInterval((function(){console.log("Sending money! id: ".concat(h.current)),E()}),1e3)},z=function(){"started"===s||"pending"===s?(console.log("Stopping WM"),b("stopped"),v("monetizationstop"),clearTimeout(f.current),clearInterval(p.current)):(console.log("Generating id"),h.current=Math.random().toString(36).substring(2)+Date.now().toString(36),console.log("Pending WM"),b("pending"),v("monetizationpending"),f.current=setTimeout(y,1e3))};return Object(a.useEffect)((function(){console.log("setting WM"),document.monetization=document.createElement("div"),b("stopped")}),[]),Object(a.useEffect)((function(){d.current=document.head.querySelector('meta[name="monetization"]').content,i(!!d.current),new MutationObserver((function(e){var t=document.head.querySelector('meta[name="monetization"]');t?(console.log("New wmTag: ".concat(t.content)),d.current=t.content,i(!0)):(console.log("wmTag removed"),d.current=void 0,i(!1))})).observe(document.head,{childList:!0})}),[]),o.a.createElement("div",{className:"WMSpoofer-container"},o.a.createElement(g,{onClick:function(){return z()},text:"".concat("stopped"===s?"Start":"Stop"," Web Monetization"),active:"stopped"===s}),o.a.createElement("p",null,"Here we can show some status about WM"),o.a.createElement("p",null,"Web Monetization tag: ",c?"Exists":"Does not exist"),o.a.createElement("p",null,"Web Monetization is: ",s),o.a.createElement("p",null,"Maybe show money sent here, with an option to reset!"))}var y=function(){var e=Object(a.useState)("Home"),t=Object(r.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(o.a.createElement(f,null)),l=Object(r.a)(i,2),u=l[0],m=l[1];return Object(a.useEffect)((function(){m("Ads"===n?o.a.createElement(p,null):"MonetizedContent"===n?o.a.createElement(v,null):o.a.createElement(f,null))}),[n]),o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"sidebar"},o.a.createElement(g,{onClick:function(){return c("Home")},text:"Home",active:"Home"===n,leftAlign:!0}),o.a.createElement(g,{onClick:function(){return c("Ads")},text:"Ads",active:"Ads"===n,leftAlign:!0}),o.a.createElement(g,{onClick:function(){return c("MonetizedContent")},text:"Monetized Content",active:"MonetizedContent"===n,leftAlign:!0}),o.a.createElement(s,null),o.a.createElement(b,null)),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"content-inner"},u)))};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(y,null)),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.2d6f2382.chunk.js.map