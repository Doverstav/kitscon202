{"version":3,"sources":["res/giphy.gif","res/song.mp3","components/common/Button.js","components/WebMonetizationSpoofer/WebMonetizationSpoofer.js","components/common/Link.js","components/common/Separator.js","components/Home.js","components/Ads/Ads.js","components/MonetizedContent/MonetizedContent.js","App.js","index.js"],"names":["module","exports","Button","props","classNames","active","leftAlign","className","onClick","text","WebMonetizationSpoofer","useState","totalMoneySent","setTotalMoneySent","isWebMonetized","setIsWebMonetized","undefined","wmStatus","setWMStatus","wmTag","useRef","startWMTimer","wmInterval","requestId","dispatchWMProgressEvent","progressEvent","CustomEvent","detail","current","paymentPointer","amount","assetCode","assetScale","parseFloat","toFixed","document","monetization","dispatchEvent","dispatchWMStateEvent","wmEvent","stateEvent","finalized","pendingWM","useCallback","setWMState","setTimeout","setInterval","state","stopWM","clearTimeout","clearInterval","toggleWM","setSpoofState","createElement","handleMutatedWMTag","mutatedWMTag","head","querySelector","content","useEffect","Math","random","toString","substring","Date","now","currentWMTag","headObserver","MutationObserver","mutations","observe","childList","disconnect","Link","href","Separator","Home","monetizationState","setMonetizationState","spoofState","monetizationObject","setStateToStarted","setStateToPending","setStateToStopped","addEventListener","removeEventListener","src","BananaGif","alt","MonetizedContent","audioPlayer","audioPlayerRef","monetizationTag","appendMonetizationTag","appendChild","removeMonetizationTag","removeChild","controls","ref","SweetTune","type","App","isSpoofing","setIsSpoofing","activePage","setActivePage","displayedComponent","setDisplayedComponent","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5c2701da.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/giphy.68673820.gif\";","module.exports = __webpack_public_path__ + \"static/media/song.2250bca0.mp3\";","import React from \"react\";\r\nimport \"./Button.css\";\r\n\r\nexport default function Button(props) {\r\n  let classNames = `Button ${props.active ? \"Button-active\" : \"\"} ${props.leftAlign ? \"Button-leftalign\" : \"\"}`;\r\n  return (\r\n    <div className={classNames} onClick={props.onClick}>\r\n      {props.text}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport \"./WMSpoofer.css\";\r\nimport Button from \"../common/Button\";\r\n\r\nexport const WM_STATE_STOPPED = \"stopped\";\r\nexport const WM_STATE_PENDING = \"pending\";\r\nexport const WM_STATE_STARTED = \"started\";\r\nexport const WM_EVENT_STOPPED = \"monetizationstop\";\r\nexport const WM_EVENT_STARTED = \"monetizationstart\";\r\nexport const WM_EVENT_PENDING = \"monetizationpending\";\r\nexport const WM_EVENT_PROGRESS = \"monetizationprogress\";\r\n\r\nexport default function WebMonetizationSpoofer(props) {\r\n  // User-facing state\r\n  const [totalMoneySent, setTotalMoneySent] = useState(0);\r\n  const [isWebMonetized, setIsWebMonetized] = useState(false);\r\n  // Is undefined when we are not spoofing Web Monetization,\r\n  // otherwise is one of the three state constants defined above\r\n  const [wmStatus, setWMStatus] = useState(undefined);\r\n\r\n  // Internal WM state\r\n  const wmTag = useRef();\r\n  const startWMTimer = useRef();\r\n  const wmInterval = useRef();\r\n  const requestId = useRef();\r\n\r\n  const attachWM = () => {\r\n    document.monetization = document.createElement(\"div\");\r\n    setWMState(WM_STATE_STOPPED);\r\n    dispatchWMStateEvent(WM_EVENT_STOPPED);\r\n  };\r\n\r\n  const detachWM = () => {\r\n    setWMState(undefined);\r\n    dispatchWMStateEvent(WM_EVENT_STOPPED);\r\n    delete document.monetization;\r\n  };\r\n\r\n  const dispatchWMProgressEvent = () => {\r\n    const progressEvent = new CustomEvent(WM_EVENT_PROGRESS, {\r\n      detail: {\r\n        requestId: requestId.current,\r\n        paymentPointer: wmTag.current,\r\n        amount: 1,\r\n        assetCode: \"SEK\",\r\n        assetScale: 3,\r\n      },\r\n    });\r\n\r\n    setTotalMoneySent((totalMoneySent) =>\r\n      parseFloat((totalMoneySent + 1 / 10 ** 3).toFixed(3))\r\n    );\r\n\r\n    document.monetization.dispatchEvent(progressEvent);\r\n  };\r\n\r\n  const dispatchWMStateEvent = (wmEvent) => {\r\n    const stateEvent = new CustomEvent(wmEvent, {\r\n      detail: {\r\n        requestId: requestId.current,\r\n        paymentPointer: wmTag.current,\r\n        finalized: wmEvent === WM_EVENT_STOPPED ? true : undefined, // Should payment not be final?\r\n      },\r\n    });\r\n\r\n    document.monetization.dispatchEvent(stateEvent);\r\n  };\r\n\r\n  const generateId = () => {\r\n    requestId.current =\r\n      Math.random().toString(36).substring(2) + Date.now().toString(36);\r\n  };\r\n\r\n  const pendingWM = useCallback(() => {\r\n    const startWM = () => {\r\n      setWMState(WM_STATE_STARTED);\r\n      dispatchWMStateEvent(WM_EVENT_STARTED);\r\n\r\n      dispatchWMProgressEvent();\r\n      wmInterval.current = setInterval(() => {\r\n        dispatchWMProgressEvent();\r\n      }, 1000);\r\n    };\r\n\r\n    setWMState(WM_STATE_PENDING);\r\n    dispatchWMStateEvent(WM_EVENT_PENDING);\r\n\r\n    startWMTimer.current = setTimeout(startWM, 1000);\r\n  }, [startWMTimer, wmInterval]);\r\n\r\n  const setWMState = (state) => {\r\n    setWMStatus(state);\r\n    document.monetization.state = state;\r\n  };\r\n\r\n  const stopWM = useCallback(() => {\r\n    setWMState(WM_STATE_STOPPED);\r\n    dispatchWMStateEvent(WM_EVENT_STOPPED);\r\n\r\n    // Clear timer & interval\r\n    clearTimeout(startWMTimer.current);\r\n    clearInterval(wmInterval.current);\r\n  }, [startWMTimer, wmInterval]);\r\n\r\n  const toggleWM = () => {\r\n    if (wmStatus) {\r\n      stopWM();\r\n      props.setSpoofState(false);\r\n      detachWM();\r\n    } else {\r\n      attachWM();\r\n      props.setSpoofState(true);\r\n      if (isWebMonetized) {\r\n        // Give components some time to update kekW\r\n        setTimeout(() => pendingWM(), 100);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleMutatedWMTag = useCallback(() => {\r\n    const mutatedWMTag = document.head.querySelector(\r\n      'meta[name=\"monetization\"]'\r\n    );\r\n\r\n    if (mutatedWMTag) {\r\n      wmTag.current = mutatedWMTag.content;\r\n      setIsWebMonetized(true);\r\n\r\n      // Only start if we are currently spoofing and are stopped\r\n      // If we are not spoofing, things will crash when starting\r\n      // If we are not stopped, we will fire multiple progression events\r\n      // which will send money quicker than intended\r\n      if (wmStatus === WM_STATE_STOPPED) {\r\n        pendingWM();\r\n      }\r\n    } else {\r\n      wmTag.current = undefined;\r\n      setIsWebMonetized(false);\r\n\r\n      if (wmStatus !== undefined) {\r\n        stopWM();\r\n      }\r\n    }\r\n  }, [pendingWM, stopWM, wmStatus]);\r\n\r\n  useEffect(() => {\r\n    generateId();\r\n\r\n    // Set initial state of wmTag\r\n    const currentWMTag = document.head.querySelector(\r\n      'meta[name=\"monetization\"]'\r\n    );\r\n    wmTag.current = currentWMTag ? currentWMTag.content : undefined;\r\n    setIsWebMonetized(!!wmTag.current);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Observe further changes\r\n    const headObserver = new MutationObserver((mutations) => {\r\n      handleMutatedWMTag();\r\n    });\r\n\r\n    headObserver.observe(document.head, { childList: true });\r\n\r\n    return () => {\r\n      headObserver.disconnect();\r\n    };\r\n  }, [handleMutatedWMTag]);\r\n\r\n  return (\r\n    <div className=\"WMSpoofer-container\">\r\n      <Button\r\n        onClick={() => toggleWM()}\r\n        text={`${!wmStatus ? \"Spoof\" : \"Unspoof\"} Web Monetization`}\r\n        active={!wmStatus}\r\n      />\r\n      <p>Here we can show some status about WM</p>\r\n      <p>\r\n        Web Monetization tag: {isWebMonetized ? \"Exists\" : \"Does not exist\"}\r\n      </p>\r\n      <p>Web Monetization is: {wmStatus}</p>\r\n      <p>Money sent: {totalMoneySent}</p>\r\n      <p>Maybe show money sent here, with an option to reset!</p>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport \"./Link.css\"\r\nexport default function Link(props) {\r\n  return (\r\n    <a className=\"Link\" href={props.href}>{props.text}</a>\r\n  )\r\n}","import React from 'react'\r\nimport \"./Separator.css\"\r\n\r\nexport default function Separator(props) {\r\n  return <div className=\"Separator\"></div>\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  WM_EVENT_PENDING,\r\n  WM_STATE_STOPPED,\r\n  WM_EVENT_STARTED,\r\n  WM_EVENT_STOPPED,\r\n  WM_STATE_PENDING,\r\n  WM_STATE_STARTED,\r\n} from \"./WebMonetizationSpoofer/WebMonetizationSpoofer\";\r\n\r\nimport Link from \"./common/Link\";\r\nimport Separator from \"./common/Separator\";\r\n\r\nimport BananaGif from \"../res/giphy.gif\";\r\nimport \"./Home.css\";\r\n\r\nexport default function Home(props) {\r\n  const [monetizationState, setMonetizationState] = useState(undefined);\r\n\r\n  useEffect(() => {\r\n    if (props.spoofState) {\r\n      // Get current monetization state\r\n      setMonetizationState(document.monetization.state);\r\n\r\n      let monetizationObject = document.monetization;\r\n\r\n      // Set up listeners to respond to state changes\r\n      const setStateToStarted = () => setMonetizationState(WM_STATE_STARTED);\r\n      const setStateToPending = () => setMonetizationState(WM_STATE_PENDING);\r\n      const setStateToStopped = () => setMonetizationState(WM_STATE_STOPPED);\r\n\r\n      monetizationObject.addEventListener(WM_EVENT_STARTED, setStateToStarted);\r\n      monetizationObject.addEventListener(WM_EVENT_PENDING, setStateToPending);\r\n      monetizationObject.addEventListener(WM_EVENT_STOPPED, setStateToStopped);\r\n\r\n      return () => {\r\n        // Remove listeners when unmounting\r\n        monetizationObject.removeEventListener(\r\n          WM_EVENT_STARTED,\r\n          setStateToStarted\r\n        );\r\n        monetizationObject.removeEventListener(\r\n          WM_EVENT_PENDING,\r\n          setStateToPending\r\n        );\r\n        monetizationObject.removeEventListener(\r\n          WM_EVENT_STOPPED,\r\n          setStateToStopped\r\n        );\r\n      };\r\n    }\r\n  }, [props.spoofState]);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Here's a nice lil headline!</h1>\r\n      <p>\r\n        Welcome home! This page should probably work as an expaliner for what\r\n        this site is trying to do. I could probably bake the \"Exclusive\r\n        Content\"-demo into this page as well.\r\n      </p>\r\n      <p>\r\n        Look at this text that is ended with a nice looking link:{\" \"}\r\n        <Link href=\"/\" text=\"Click me!\" />\r\n      </p>\r\n      <Separator />\r\n      <p>\r\n        {(!monetizationState || monetizationState === WM_STATE_STOPPED) &&\r\n          \"Start Web Monetization to unlock exclusive content!\"}\r\n        {monetizationState === WM_STATE_PENDING && \"Loading...\"}\r\n        {monetizationState === WM_STATE_STARTED &&\r\n          \"Very nice! Please enjoy your exlusive content.\"}\r\n      </p>\r\n      {monetizationState === \"started\" ? (\r\n        <div>\r\n          <img src={BananaGif} alt=\"BananaGif\" />\r\n          <p className=\"Home-text-small\">\r\n            Gif taken from <Link href=\"http://gph.is/2o30x8S\" text=\"here\" />\r\n          </p>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Home(props) {\r\n  return (\r\n    <div>\r\n      <h1>Removable ads</h1>\r\n      <p>\r\n        Allow the user to choose! Either they can pay you directly using Web\r\n        Monetization, or you can serve them some ads if they do not use it.\r\n      </p>\r\n      <p>Toogle Web monetization on and off to see the difference.</p>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport Link from \"../common/Link\";\r\nimport SweetTune from \"../../res/song.mp3\";\r\nimport \"./MonetizedContent.css\";\r\n\r\nexport default function MonetizedContent(props) {\r\n  let audioPlayer = useRef();\r\n\r\n  useEffect(() => {\r\n    let audioPlayerRef = audioPlayer.current;\r\n    let monetizationTag = document.head.querySelector(\r\n      'meta[name=\"monetization\"]'\r\n    );\r\n\r\n    const appendMonetizationTag = () => {\r\n      document.head.appendChild(monetizationTag);\r\n    };\r\n\r\n    const removeMonetizationTag = () => {\r\n      document.head.removeChild(monetizationTag);\r\n    };\r\n\r\n    removeMonetizationTag(monetizationTag);\r\n\r\n    audioPlayerRef.addEventListener(\"play\", appendMonetizationTag);\r\n    audioPlayerRef.addEventListener(\"pause\", removeMonetizationTag);\r\n\r\n    return () => {\r\n      audioPlayerRef.removeEventListener(\"play\", appendMonetizationTag);\r\n      audioPlayerRef.removeEventListener(\"pause\", removeMonetizationTag);\r\n\r\n      appendMonetizationTag(monetizationTag);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Monetized Content</h1>\r\n      <p>\r\n        Monetize playback of your content! This page has no monetization tag by\r\n        defualt, it is instead added when you start playing the song below. Whne\r\n        you pause, or hte song ends, the monetization tag is removed. This menas\r\n        that you will only pay for the amount of time spent listening!\r\n      </p>\r\n      <audio controls ref={audioPlayer}>\r\n        <source src={SweetTune} type=\"audio/mpeg\" />\r\n      </audio>\r\n      <p className=\"Monetized-Content-text-small\">\r\n        Song is{\" \"}\r\n        <Link\r\n          href=\"https://www.youtube.com/watch?v=FEciLhiKcQA\"\r\n          text=\"Lonely Troutman II by Will Rosati\"\r\n        />\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport Home from \"./components/Home\";\r\nimport Ads from \"./components/Ads/Ads\";\r\nimport MonetizedContent from \"./components/MonetizedContent/MonetizedContent\";\r\nimport WebMonetizationSpoofer from \"./components/WebMonetizationSpoofer/WebMonetizationSpoofer\";\r\nimport Button from \"./components/common/Button\";\r\nimport Separator from \"./components/common/Separator\";\r\n\r\nconst ADS = \"Ads\";\r\nconst MONETIZED_CONTENT = \"MonetizedContent\";\r\nconst HOME = \"Home\";\r\n\r\nfunction App() {\r\n  const [isSpoofing, setIsSpoofing] = useState(false);\r\n  const [activePage, setActivePage] = useState(HOME);\r\n  const [displayedComponent, setDisplayedComponent] = useState(\r\n    <Home spoofState={isSpoofing} />\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (activePage === ADS) {\r\n      setDisplayedComponent(<Ads spoofState={isSpoofing} />);\r\n    } else if (activePage === MONETIZED_CONTENT) {\r\n      setDisplayedComponent(<MonetizedContent spoofState={isSpoofing} />);\r\n    } else {\r\n      setDisplayedComponent(<Home spoofState={isSpoofing} />);\r\n    }\r\n  }, [activePage, isSpoofing]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"sidebar\">\r\n        <Button\r\n          onClick={() => setActivePage(HOME)}\r\n          text={\"Home\"}\r\n          active={activePage === HOME}\r\n          leftAlign={true}\r\n        />\r\n        <Button\r\n          onClick={() => setActivePage(ADS)}\r\n          text={\"Ads\"}\r\n          active={activePage === ADS}\r\n          leftAlign={true}\r\n        />\r\n        <Button\r\n          onClick={() => setActivePage(MONETIZED_CONTENT)}\r\n          text={\"Monetized Content\"}\r\n          active={activePage === MONETIZED_CONTENT}\r\n          leftAlign={true}\r\n        />\r\n        <Separator />\r\n        <WebMonetizationSpoofer\r\n          setSpoofState={(spoofState) => setIsSpoofing(spoofState)}\r\n        />\r\n      </div>\r\n      <div className=\"content\">\r\n        <div className=\"content-inner\">{displayedComponent}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}