(this.webpackJsonpkitscon_20_2=this.webpackJsonpkitscon_20_2||[]).push([[0],[,,,,function(e,t,n){e.exports=n.p+"static/media/giphy.68673820.gif"},function(e,t,n){e.exports=n.p+"static/media/song.2250bca0.mp3"},function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(3),c=n.n(i),r=(n(11),n(1));n(12),n(13),n(14);function u(e){var t="Button ".concat(e.active?"Button-active":""," ").concat(e.leftAlign?"Button-leftalign":"");return o.a.createElement("div",{className:t,onClick:e.onClick},e.text)}function l(e){var t=Object(a.useState)(0),n=Object(r.a)(t,2),i=n[0],c=n[1],l=Object(a.useState)(!1),s=Object(r.a)(l,2),m=s[0],d=s[1],f=Object(a.useState)(void 0),p=Object(r.a)(f,2),E=p[0],v=p[1],h=Object(a.useRef)(),b=Object(a.useRef)(),z=Object(a.useRef)(),g=Object(a.useRef)(),y=function(){var e=new CustomEvent("monetizationprogress",{detail:{requestId:g.current,paymentPointer:h.current,amount:1,assetCode:"SEK",assetScale:3}});c((function(e){return parseFloat((e+1/Math.pow(10,3)).toFixed(3))})),document.monetization.dispatchEvent(e)},S=function(e){var t=new CustomEvent(e,{detail:{requestId:g.current,paymentPointer:h.current,finalized:"monetizationstop"===e||void 0}});document.monetization.dispatchEvent(t)},j=Object(a.useCallback)((function(){O("pending"),S("monetizationpending"),b.current=setTimeout((function(){O("started"),S("monetizationstart"),y(),z.current=setInterval((function(){y()}),1e3)}),1e3)}),[b,z]),O=function(e){v(e),document.monetization.state=e},k=Object(a.useCallback)((function(){O("stopped"),S("monetizationstop"),clearTimeout(b.current),clearInterval(z.current)}),[b,z]),w=function(){E?(k(),e.setSpoofState(!1),O(void 0),S("monetizationstop"),delete document.monetization):(document.monetization=document.createElement("div"),O("stopped"),S("monetizationstop"),e.setSpoofState(!0),m&&setTimeout((function(){return j()}),100))},x=Object(a.useCallback)((function(){var e=document.head.querySelector('meta[name="monetization"]');e?(h.current=e.content,d(!0),"stopped"===E&&j()):(h.current=void 0,d(!1),void 0!==E&&k())}),[j,k,E]);return Object(a.useEffect)((function(){g.current=Math.random().toString(36).substring(2)+Date.now().toString(36);var e=document.head.querySelector('meta[name="monetization"]');h.current=e?e.content:void 0,d(!!h.current)}),[]),Object(a.useEffect)((function(){var e=new MutationObserver((function(e){x()}));return e.observe(document.head,{childList:!0}),function(){e.disconnect()}}),[x]),o.a.createElement("div",{className:"WMSpoofer-container"},o.a.createElement(u,{onClick:function(){return w()},text:"".concat(E?"Unspoof":"Spoof"," Web Monetization"),active:!E}),o.a.createElement("p",null,"Here we can show some status about WM"),o.a.createElement("p",null,"Web Monetization tag: ",m?"Exists":"Does not exist"),o.a.createElement("p",null,"Web Monetization is: ",E),o.a.createElement("p",null,"Money sent: ",i),o.a.createElement("p",null,"Maybe show money sent here, with an option to reset!"))}n(15);function s(e){return o.a.createElement("a",{className:"Link",href:e.href},e.text)}n(16);function m(e){return o.a.createElement("div",{className:"Separator"})}var d=n(4),f=n.n(d);n(17);function p(e){var t=Object(a.useState)(void 0),n=Object(r.a)(t,2),i=n[0],c=n[1];return Object(a.useEffect)((function(){if(e.spoofState){c(document.monetization.state);var t=document.monetization,n=function(){return c("started")},a=function(){return c("pending")},o=function(){return c("stopped")};return t.addEventListener("monetizationstart",n),t.addEventListener("monetizationpending",a),t.addEventListener("monetizationstop",o),function(){t.removeEventListener("monetizationstart",n),t.removeEventListener("monetizationpending",a),t.removeEventListener("monetizationstop",o)}}}),[e.spoofState]),o.a.createElement("div",null,o.a.createElement("h1",null,"Here's a nice lil headline!"),o.a.createElement("p",null,'Welcome home! This page should probably work as an expaliner for what this site is trying to do. I could probably bake the "Exclusive Content"-demo into this page as well.'),o.a.createElement("p",null,"Look at this text that is ended with a nice looking link:"," ",o.a.createElement(s,{href:"/",text:"Click me!"})),o.a.createElement(m,null),o.a.createElement("p",null,(!i||"stopped"===i)&&"Start Web Monetization to unlock exclusive content!","pending"===i&&"Loading...","started"===i&&"Very nice! Please enjoy your exlusive content."),"started"===i?o.a.createElement("div",null,o.a.createElement("img",{src:f.a,alt:"BananaGif"}),o.a.createElement("p",{className:"Home-text-small"},"Gif taken from ",o.a.createElement(s,{href:"http://gph.is/2o30x8S",text:"here"}))):null)}function E(e){return o.a.createElement("div",null,o.a.createElement("h1",null,"Removable ads"),o.a.createElement("p",null,"Allow the user to choose! Either they can pay you directly using Web Monetization, or you can serve them some ads if they do not use it."),o.a.createElement("p",null,"Toogle Web monetization on and off to see the difference."))}var v=n(5),h=n.n(v);n(18);function b(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){var e=t.current,n=document.head.querySelector('meta[name="monetization"]'),a=function(){document.head.appendChild(n)},o=function(){document.head.removeChild(n)};return o(),e.addEventListener("play",a),e.addEventListener("pause",o),function(){e.removeEventListener("play",a),e.removeEventListener("pause",o),a()}}),[]),o.a.createElement("div",null,o.a.createElement("h1",null,"Monetized Content"),o.a.createElement("p",null,"Monetize playback of your content! This page has no monetization tag by defualt, it is instead added when you start playing the song below. Whne you pause, or hte song ends, the monetization tag is removed. This menas that you will only pay for the amount of time spent listening!"),o.a.createElement("audio",{controls:!0,ref:t},o.a.createElement("source",{src:h.a,type:"audio/mpeg"})),o.a.createElement("p",{className:"Monetized-Content-text-small"},"Song is"," ",o.a.createElement(s,{href:"https://www.youtube.com/watch?v=FEciLhiKcQA",text:"Lonely Troutman II by Will Rosati"})))}var z=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)("Home"),s=Object(r.a)(c,2),d=s[0],f=s[1],v=Object(a.useState)(o.a.createElement(p,{spoofState:n})),h=Object(r.a)(v,2),z=h[0],g=h[1];return Object(a.useEffect)((function(){g("Ads"===d?o.a.createElement(E,{spoofState:n}):"MonetizedContent"===d?o.a.createElement(b,{spoofState:n}):o.a.createElement(p,{spoofState:n}))}),[d,n]),o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"sidebar"},o.a.createElement(u,{onClick:function(){return f("Home")},text:"Home",active:"Home"===d,leftAlign:!0}),o.a.createElement(u,{onClick:function(){return f("Ads")},text:"Ads",active:"Ads"===d,leftAlign:!0}),o.a.createElement(u,{onClick:function(){return f("MonetizedContent")},text:"Monetized Content",active:"MonetizedContent"===d,leftAlign:!0}),o.a.createElement(m,null),o.a.createElement(l,{setSpoofState:function(e){return i(e)}})),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"content-inner"},z)))};c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(z,null)),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.5c2701da.chunk.js.map